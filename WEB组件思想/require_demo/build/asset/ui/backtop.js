define(["jquery","scrollto"],function(o,t){function s(s,e){this.$el=o(s),this.opts=o.extend({},this.DEFAULTS,e),this.sto=new t.ScrollTo({dest:0,speed:this.opts.speed}),this._checkPos(),"move"===this.opts.mode?this.$el.on("click",o.proxy(this._move,this)):this.$el.on("click",o.proxy(this._go,this)),o(window).on("scroll",o.proxy(this._checkPos,this))}return s.prototype={_move:function(){this.sto.move()},_go:function(){this.sto.go()},_checkPos:function(){o(window).scrollTop()>this.opts.pos?this.$el.fadeIn():this.$el.fadeOut()}},s.DEFAULTS={mode:"move",pos:o(window).height(),speed:800},{BackTop:s}});